# Configuration principale de webserv
# Format: [section] suivi de directives clé=valeur

[server]
# Paramètres de base du serveur principal
port=8080
host=0.0.0.0
server_name=localhost webserv.local
root=./www
client_max_body_size=10M
index=index.html index.php

# Pages d'erreur personnalisées
error_page=404 error/404.html
error_page=403 error/403.html
error_page=500 error/500.html

# Configuration des locations
[location /]
allowed_methods=GET POST
index=index.html
autoindex=off

[location /images]
allowed_methods=GET
autoindex=on
index=gallery.html

[location /api]
allowed_methods=GET POST PUT DELETE
index=api.html

[location /upload]
allowed_methods=POST
upload_directory=./uploads

[location /cgi-bin]
allowed_methods=GET POST
cgi=.php .py .pl

# Serveur d'administration sur un port différent
[server]
port=8081
host=0.0.0.0
server_name=admin.local
root=./www/admin
client_max_body_size=20M

[location /]
allowed_methods=GET POST
index=admin.html
autoindex=off

[location /stats]
allowed_methods=GET
index=stats.html

# Exemple de location avec redirection
[location /old]
return=301 /new 