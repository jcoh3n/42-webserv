<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test d'autoindex - Webserv 42</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro', 'SF Pro Display', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #f5f5f7;
            background-color: #1e1e1e;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #ffffff;
            border-bottom: 1px solid #38383a;
            padding-bottom: 10px;
        }
        .test-section {
            background-color: #2c2c2e;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        h2 {
            color: #0a84ff;
            margin-top: 0;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }
        a {
            color: #0a84ff;
            text-decoration: none;
            font-weight: 500;
        }
        a:hover {
            text-decoration: underline;
        }
        code {
            background-color: #38383a;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'SF Mono', Menlo, Monaco, Consolas, monospace;
            font-size: 0.9em;
        }
        .tip {
            background-color: #1a3e68;
            border-left: 4px solid #0a84ff;
            padding: 12px 16px;
            margin: 20px 0;
        }
        .note {
            background-color: #3a3a3c;
            padding: 12px 16px;
            margin: 20px 0;
            font-style: italic;
            border-radius: 6px;
        }
    </style>
</head>
<body>
    <h1>Test d'autoindex (listing de répertoire)</h1>
    
    <div class="test-section">
        <h2>À propos de l'autoindex</h2>
        <p>L'autoindex est une fonctionnalité qui génère automatiquement une liste des fichiers et dossiers lorsqu'un répertoire ne contient pas de fichier index (comme index.html). C'est une fonctionnalité essentielle pour un serveur web.</p>
        
        <p>Dans le contexte de ce serveur, l'autoindex :</p>
        <ul>
            <li>S'active quand un répertoire ne contient pas de fichier index.html</li>
            <li>Affiche tous les fichiers et dossiers en format listing</li>
            <li>Permet de naviguer dans l'arborescence des fichiers</li>
            <li>Affiche des informations comme la taille et la date de modification</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>Testez l'autoindex</h2>
        <p>Pour tester cette fonctionnalité, cliquez sur un des liens ci-dessous :</p>
        
        <ul>
            <li>
                <a href="/data/">/data/</a> - Ce répertoire contient uniquement des fichiers texte (.txt) qui s'affichent directement dans le navigateur quand vous cliquez dessus.
            </li>
            <li>
                <a href="/api/">/api/</a> - Ce répertoire montre des exemples d'API et points d'entrée.
            </li>
        </ul>
        
        <div class="note">
            <strong>Note :</strong> Par souci de simplicité, nous avons limité le dossier data à ne contenir que des fichiers texte (.txt) qui s'affichent sans problème dans le navigateur.
        </div>
        
        <div class="tip">
            <strong>Astuce :</strong> Cliquez sur un fichier texte pour le visualiser directement dans votre navigateur.
        </div>
    </div>
    
    <div class="test-section">
        <h2>Comment configurer l'autoindex</h2>
        <p>Pour activer/désactiver l'autoindex dans la configuration du serveur, utilisez la directive suivante dans votre fichier de configuration :</p>
        <code>location /example/ { autoindex on; }</code>
        <p>Lorsque l'autoindex est désactivé (<code>autoindex off</code>), une erreur 403 Forbidden est renvoyée si aucun fichier index n'est trouvé.</p>
    </div>
</body>
</html> 