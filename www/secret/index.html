<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page Secrète</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&display=swap');
        
        :root {
            /* Palette principale */
            --cookie-brown: #C87F36;
            --cookie-light: #E2A552;
            --cookie-dark: #8B5A2B;
            --cookie-edge: #7A4A21;
            --choco-dark: #3A230B;
            --choco-darker: #271807;
            
            /* Variations de couleurs pour les cookies */
            --cookie-light-alt1: #E8AD5C;
            --cookie-brown-alt1: #D08940;
            --cookie-light-alt2: #D9964A;
            --cookie-brown-alt2: #B77431;
            
            --bg-color: #111418;
            --text-color: #f0f0f0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Fredoka', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(200, 127, 54, 0.03) 0%, transparent 300px),
                radial-gradient(circle at 80% 70%, rgba(200, 127, 54, 0.03) 0%, transparent 300px);
        }
        
        /* Conteneur de cookies qui tombent */
        .cookie-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        
        /* Styles de cookies de base */
        .falling-cookie {
            position: absolute;
            top: -80px;
            border-radius: 50%;
            animation: fallDown linear infinite;
            will-change: transform;
            transform-style: preserve-3d;
        }
        
        /* Animation de chute */
        @keyframes fallDown {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
            }
            100% {
                transform: translateY(calc(100vh + 150px)) rotate(360deg) scale(1);
            }
        }
        
        /* Différents types de cookies */
        .cookie-type-1 {
            background: radial-gradient(circle at 40% 40%, var(--cookie-light) 0%, var(--cookie-brown) 70%, var(--cookie-edge) 100%);
            box-shadow: 
                inset 3px 3px 8px rgba(255, 255, 255, 0.2),
                inset -3px -3px 8px rgba(0, 0, 0, 0.3),
                3px 3px 6px rgba(0, 0, 0, 0.3);
        }
        
        .cookie-type-2 {
            background: radial-gradient(circle at 35% 45%, var(--cookie-light-alt1) 0%, var(--cookie-brown-alt1) 65%, var(--cookie-edge) 100%);
            box-shadow: 
                inset 2px 2px 6px rgba(255, 255, 255, 0.2),
                inset -2px -2px 6px rgba(0, 0, 0, 0.3),
                2px 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .cookie-type-3 {
            background: radial-gradient(circle at 45% 35%, var(--cookie-light-alt2) 0%, var(--cookie-brown-alt2) 70%, var(--cookie-edge) 100%);
            box-shadow: 
                inset 3px 3px 7px rgba(255, 255, 255, 0.2),
                inset -3px -3px 7px rgba(0, 0, 0, 0.3),
                3px 3px 5px rgba(0, 0, 0, 0.3);
        }
        
        /* Types de texture pour les cookies */
        .cookie-texture {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            z-index: 1;
        }
        
        .texture-1 {
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 85% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 15%),
                radial-gradient(circle at 30% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 25%);
        }
        
        .texture-2 {
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.1) 0%, transparent 15%),
                radial-gradient(circle at 70% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 40% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 20%);
        }
        
        .texture-3 {
            background-image: 
                radial-gradient(circle at 50% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 30%),
                radial-gradient(circle at 20% 60%, rgba(255, 255, 255, 0.1) 0%, transparent 15%),
                radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 20%);
        }
        
        /* Pépites de chocolat pour les cookies tombants */
        .cookie-chip {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(145deg, var(--choco-dark), var(--choco-darker));
            box-shadow: 
                inset 1px 1px 1px rgba(255, 255, 255, 0.15),
                0 1px 1px rgba(0, 0, 0, 0.3);
            z-index: 2;
        }
        
        /* Effet de bordure irrégulière */
        .cookie-edge-effect {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            overflow: hidden;
            z-index: 0;
        }
        
        .edge-type-1::before {
            content: '';
            position: absolute;
            width: 140%;
            height: 140%;
            top: -20%;
            left: -20%;
            background: transparent;
            border-radius: 35% 45% 40% 35% / 40% 35% 45% 40%;
            box-shadow: 0 0 0 15px rgba(120, 74, 33, 0.8);
        }
        
        .edge-type-2::before {
            content: '';
            position: absolute;
            width: 140%;
            height: 140%;
            top: -20%;
            left: -20%;
            background: transparent;
            border-radius: 40% 35% 45% 40% / 35% 45% 35% 40%;
            box-shadow: 0 0 0 12px rgba(120, 74, 33, 0.8);
        }
        
        .edge-type-3::before {
            content: '';
            position: absolute;
            width: 140%;
            height: 140%;
            top: -20%;
            left: -20%;
            background: transparent;
            border-radius: 45% 40% 35% 40% / 40% 35% 45% 35%;
            box-shadow: 0 0 0 14px rgba(120, 74, 33, 0.8);
        }
        
        .main-content {
            background: rgba(30, 35, 40, 0.85);
            backdrop-filter: blur(5px);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
            border: 2px solid var(--cookie-light);
            overflow: hidden;
        }
        
        /* Cookie central amélioré */
        .cookie-icon {
            width: 130px;
            height: 130px;
            margin: 0 auto 25px;
            position: relative;
            animation: float 5s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* Cookie principal réaliste avec gradient */
        .cookie-shape {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: absolute;
            background: radial-gradient(circle at 40% 40%, var(--cookie-light) 0%, var(--cookie-brown) 70%, var(--cookie-edge) 100%);
            box-shadow: 
                inset 3px 3px 8px rgba(255, 255, 255, 0.3),
                inset -3px -3px 8px rgba(0, 0, 0, 0.3),
                0 5px 15px rgba(0, 0, 0, 0.4);
        }
        
        /* Pépites de chocolat avec effets 3D */
        .main-cookie-chip {
            position: absolute;
            background: linear-gradient(145deg, var(--choco-dark), var(--choco-darker));
            border-radius: 50%;
            box-shadow: 
                inset 1px 1px 2px rgba(255, 255, 255, 0.15),
                1px 1px 1px rgba(0, 0, 0, 0.3);
        }
        
        .chip1 {
            width: 22px;
            height: 22px;
            top: 35px;
            left: 25px;
            transform: rotate(-5deg) translateZ(1px);
        }
        
        .chip2 {
            width: 18px;
            height: 18px;
            top: 25px;
            right: 35px;
            transform: rotate(12deg) translateZ(1px);
        }
        
        .chip3 {
            width: 20px;
            height: 20px;
            bottom: 30px;
            left: 45px;
            transform: rotate(8deg) translateZ(1px);
        }
        
        .chip4 {
            width: 15px;
            height: 15px;
            bottom: 40px;
            right: 30px;
            transform: rotate(-10deg) translateZ(1px);
        }
        
        .chip5 {
            width: 17px;
            height: 17px;
            top: 60px;
            left: 60px;
            transform: rotate(20deg) translateZ(1px);
        }
        
        .chip6 {
            width: 12px;
            height: 12px;
            top: 80px;
            right: 60px;
            transform: rotate(-15deg) translateZ(1px);
        }
        
        /* Texture irrégulière pour donner un aspect plus naturel au cookie */
        .main-cookie-texture {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 85% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 15%),
                radial-gradient(circle at 30% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 25%),
                radial-gradient(circle at 70% 65%, rgba(255, 255, 255, 0.05) 0%, transparent 20%);
        }
        
        /* Effet de bordure irrégulière pour le cookie */
        .main-cookie-edge {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: transparent;
            overflow: hidden;
        }
        
        .main-cookie-edge::before {
            content: '';
            position: absolute;
            width: 140%;
            height: 140%;
            top: -20%;
            left: -20%;
            background: transparent;
            border-radius: 35% 45% 40% 35% / 40% 35% 45% 40%;
            box-shadow: 0 0 0 15px rgba(120, 74, 33, 0.8);
        }
        
        .cookie-badge {
            background-color: #4CAF50;
            color: white;
            font-weight: bold;
            padding: 10px 22px;
            border-radius: 30px;
            display: inline-block;
            margin-bottom: 20px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 700;
            color: var(--cookie-light);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .message-box {
            background-color: rgba(0, 0, 0, 0.2);
            border-left: 4px solid var(--cookie-light);
            padding: 20px;
            margin: 25px 0;
            font-size: 1.05rem;
            line-height: 1.6;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        
        .btn {
            padding: 14px 28px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            display: inline-block;
            min-width: 200px;
            text-align: center;
        }
        
        .btn-primary {
            background: linear-gradient(to bottom, var(--cookie-light), var(--cookie-brown));
            color: white;
            box-shadow: 0 4px 10px rgba(200, 127, 54, 0.5);
            border: none;
        }
        
        .btn-primary:hover {
            background: linear-gradient(to bottom, var(--cookie-brown), var(--cookie-dark));
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(200, 127, 54, 0.6);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--cookie-light);
            border: 2px solid var(--cookie-light);
        }
        
        .btn-secondary:hover {
            background-color: rgba(200, 127, 54, 0.1);
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .crumbs {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        /* Miettes de cookie améliorées */
        .crumb {
            position: absolute;
            background: linear-gradient(145deg, var(--cookie-light), var(--cookie-brown));
            border-radius: 50% 30% 50% 40%;
            opacity: 0.15;
            transform: rotate(var(--rotation));
            box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <!-- Conteneur de cookies qui tombent -->
    <div class="cookie-container" id="cookie-container"></div>
    
    <div class="main-content">
        <div class="crumbs" id="crumbs"></div>
        
        <div style="text-align: center;">
            <div class="cookie-badge">Cookie enregistré ✓</div>
        </div>
        
        <!-- Cookie central amélioré -->
        <div class="cookie-icon">
            <div class="cookie-shape"></div>
            <div class="main-cookie-texture"></div>
            <div class="main-cookie-edge"></div>
            <div class="main-cookie-chip chip1"></div>
            <div class="main-cookie-chip chip2"></div>
            <div class="main-cookie-chip chip3"></div>
            <div class="main-cookie-chip chip4"></div>
            <div class="main-cookie-chip chip5"></div>
            <div class="main-cookie-chip chip6"></div>
        </div>
        
        <h1>Page Secrète Découverte !</h1>
        
        <div class="message-box">
            <strong style="color: var(--cookie-light);">Authentification réussie</strong><br>
            Un cookie de session a été généré et enregistré avec succès dans votre navigateur. 
            Vous avez maintenant accès à la zone restreinte du site.
        </div>
        
        <div class="buttons">
            <a href="/restricted-area" class="btn btn-primary">Accéder à la zone restreinte</a>
            <a href="/" class="btn btn-secondary">Retour à l'accueil</a>
        </div>
    </div>
    
    <script>
        // Fonction pour générer des motifs de cookies prédéfinis comme "templates"
        function generateCookieTemplates() {
            // Créer 5 templates différents de cookies
            const templates = [];
            
            // Les types de patterns possibles
            const cookieTypes = ['cookie-type-1', 'cookie-type-2', 'cookie-type-3'];
            const textureTypes = ['texture-1', 'texture-2', 'texture-3'];
            const edgeTypes = ['edge-type-1', 'edge-type-2', 'edge-type-3'];
            
            // Créer 5 templates distincts
            for (let t = 0; t < 5; t++) {
                // Choisir des styles aléatoires pour ce template
                const cookieType = cookieTypes[Math.floor(Math.random() * cookieTypes.length)];
                const textureType = textureTypes[Math.floor(Math.random() * textureTypes.length)];
                const edgeType = edgeTypes[Math.floor(Math.random() * edgeTypes.length)];
                
                // Générer entre 4 et 8 positions de pépites pour ce template
                const chipCount = Math.floor(Math.random() * 5) + 4;
                const chipPositions = [];
                
                // Générer les positions des pépites
                for (let i = 0; i < chipCount; i++) {
                    // Utiliser une distribution par angle pour éviter les superpositions
                    const angle = (i / chipCount) * Math.PI * 2 + (Math.random() * 0.8 - 0.4);
                    const distance = (Math.random() * 0.3 + 0.2); // Entre 20% et 50% du rayon
                    
                    const chipX = 0.5 + Math.cos(angle) * distance;
                    const chipY = 0.5 + Math.sin(angle) * distance;
                    
                    const chipSize = Math.random() * 0.12 + 0.08; // Entre 8% et 20% de la taille du cookie
                    const rotation = Math.random() * 360;
                    
                    chipPositions.push({
                        x: chipX,
                        y: chipY,
                        size: chipSize,
                        rotation: rotation
                    });
                }
                
                templates.push({
                    cookieType,
                    textureType,
                    edgeType,
                    chipPositions
                });
            }
            
            return templates;
        }
        
        // Créer la pluie de cookies basée sur des templates
        function createCookieRain() {
            const container = document.getElementById('cookie-container');
            const cookieTemplates = generateCookieTemplates();
            
            // Fonction pour créer un cookie basé sur un template
            function createCookieFromTemplate() {
                // Choisir un template aléatoire
                const template = cookieTemplates[Math.floor(Math.random() * cookieTemplates.length)];
                
                // Créer le cookie de base
                const cookie = document.createElement('div');
                cookie.className = `falling-cookie ${template.cookieType}`;
                
                // Position horizontale aléatoire (bien dispersée)
                const posX = Math.random() * 100;
                
                // Taille aléatoire dans une plage plus variée
                const size = Math.random() * 50 + 20; // Entre 20px et 70px
                
                // Vitesse aléatoire avec plus de variation
                const duration = Math.random() * 7 + 3; // Entre 3 et 10 secondes
                
                // Appliquer un petit délai aléatoire pour l'animation
                const delay = Math.random() * 2;
                
                // Style de base du cookie
                cookie.style.left = `${posX}%`;
                cookie.style.width = `${size}px`;
                cookie.style.height = `${size}px`;
                cookie.style.animationDuration = `${duration}s`;
                cookie.style.animationDelay = `${delay}s`;
                
                // Ajouter la texture
                const texture = document.createElement('div');
                texture.className = `cookie-texture ${template.textureType}`;
                cookie.appendChild(texture);
                
                // Ajouter l'effet de bordure
                const edge = document.createElement('div');
                edge.className = `cookie-edge-effect ${template.edgeType}`;
                cookie.appendChild(edge);
                
                // Ajouter les pépites selon le template
                template.chipPositions.forEach(chipPos => {
                    const chip = document.createElement('div');
                    chip.className = 'cookie-chip';
                    
                    // Position relative à la taille du cookie
                    chip.style.left = `${chipPos.x * 100}%`;
                    chip.style.top = `${chipPos.y * 100}%`;
                    
                    // Taille relative au cookie
                    const chipSize = size * chipPos.size;
                    chip.style.width = `${chipSize}px`;
                    chip.style.height = `${chipSize}px`;
                    
                    // Rotation
                    chip.style.transform = `translate(-50%, -50%) rotate(${chipPos.rotation}deg)`;
                    
                    cookie.appendChild(chip);
                });
                
                container.appendChild(cookie);
                
                // Supprimer le cookie une fois qu'il est sorti de l'écran
                setTimeout(() => {
                    cookie.remove();
                }, (duration + delay + 2) * 1000);
            }
            
            // Créer des cookies initiaux (moins nombreux mais bien dispersés)
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    createCookieFromTemplate();
                }, i * 200);
            }
            
            // Continuer à créer des cookies à un rythme raisonnable
            setInterval(() => {
                createCookieFromTemplate();
            }, 150);
        }
        
        // Fonction pour créer des miettes de cookie
        function createCookieCrumbs() {
            const container = document.getElementById('crumbs');
            const numberOfCrumbs = 30;
            
            for (let i = 0; i < numberOfCrumbs; i++) {
                const crumb = document.createElement('div');
                crumb.className = 'crumb';
                
                // Position aléatoire
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                
                // Taille aléatoire
                const size = Math.random() * 8 + 2;
                
                // Rotation aléatoire
                const rotation = Math.random() * 360;
                
                // Style
                crumb.style.left = `${posX}%`;
                crumb.style.top = `${posY}%`;
                crumb.style.width = `${size}px`;
                crumb.style.height = `${size}px`;
                crumb.style.setProperty('--rotation', `${rotation}deg`);
                
                container.appendChild(crumb);
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Créer une pluie de cookies basée sur des templates
            createCookieRain();
            
            // Créer les miettes de cookie
            createCookieCrumbs();
            
            // Définir un cookie réel
            document.cookie = "session=user_authenticated_token; path=/; max-age=86400; SameSite=Strict";
        });
    </script>
</body>
</html>